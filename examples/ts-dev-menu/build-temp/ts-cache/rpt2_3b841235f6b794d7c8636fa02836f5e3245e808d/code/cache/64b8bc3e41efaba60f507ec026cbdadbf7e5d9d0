{"code":"/*\r\n * Copyright © 2020. TIBCO Software Inc.\r\n * This file is subject to the license terms contained\r\n * in the license file that is distributed with this file.\r\n */\r\nimport { __awaiter, __generator } from \"tslib\";\r\n// Import the Spotfire module\r\nimport { Spotfire } from \"./api\";\r\n// Import needed types\r\n// Starting point for every mod\r\nSpotfire.initialize(function (mod) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var context, sideNav, reader;\r\n    return __generator(this, function (_a) {\r\n        context = mod.getRenderContext();\r\n        sideNav = document.getElementById('sideNav');\r\n        if (sideNav) {\r\n            sideNav.tabs = [\r\n                {\r\n                    id: 'tab1',\r\n                    label: 'First menu',\r\n                    icon: 'https://cdn.jsdelivr.net/npm/@tibco-tcstk/tc-web-components@2.1.0/dist/collection/svg/ic-warning.svg',\r\n                    child: [\r\n                        {\r\n                            id: 'tab1.1',\r\n                            label: 'Child 1.1',\r\n                            icon: 'https://cdn.jsdelivr.net/npm/@tibco-tcstk/tc-web-components@2.1.0/dist/collection/svg/ic-done.svg'\r\n                        },\r\n                        {\r\n                            id: 'tab1.2',\r\n                            label: 'Child 1.2'\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    id: 'tab2',\r\n                    label: 'Other'\r\n                },\r\n                {\r\n                    id: 'tab3',\r\n                    label: 'More',\r\n                    child: [\r\n                        {\r\n                            id: 'tab3.1',\r\n                            label: 'Child 3.1'\r\n                        },\r\n                        {\r\n                            id: 'tab1.2',\r\n                            label: 'Child 3.2'\r\n                        }\r\n                    ]\r\n                }\r\n            ];\r\n            sideNav.addEventListener('selected', function (event) {\r\n                console.log('side tab selected: ', event.detail);\r\n            });\r\n            (function () { return __awaiter(void 0, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4 /*yield*/, customElements.whenDefined('uxpl-left-nav-multi')];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [4 /*yield*/, sideNav.setTab(sideNav.tabs[0].child[0])];\r\n                        case 2:\r\n                            _a.sent();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); })();\r\n        }\r\n        reader = mod.createReader(mod.visualization.data(), mod.windowSize());\r\n        reader.subscribe(function render(dataView, size) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var errors, rows;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4 /*yield*/, dataView.getErrors()];\r\n                        case 1:\r\n                            errors = _a.sent();\r\n                            if (errors.length > 0) {\r\n                                // Data view contains errors. Display these and clear the chart to avoid\r\n                                // getting a flickering effect with an old chart configuration later.\r\n                                mod.controls.errorOverlay.show(errors, \"DataView\");\r\n                                return [2 /*return*/];\r\n                            }\r\n                            mod.controls.errorOverlay.hide(\"DataView\");\r\n                            return [4 /*yield*/, dataView.allRows()];\r\n                        case 2:\r\n                            rows = _a.sent();\r\n                            console.log(rows);\r\n                            // Inform Spotfire that the render is complete (needed for export)\r\n                            context.signalRenderComplete();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        });\r\n        return [2 /*return*/];\r\n    });\r\n}); });\r\n//# sourceMappingURL=main.js.map","references":["/usr/local/var/www/apps/spotfire-mods/examples/ts-dev-menu/src/api.ts"],"map":"{\"version\":3,\"file\":\"main.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../src/main.ts\"],\"names\":[],\"mappings\":\"AAAA;;;;GAIG;;AAGH,6BAA6B;AAC7B,OAAO,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AACjC,sBAAsB;AAEtB,+BAA+B;AAC/B,QAAQ,CAAC,UAAU,CAAC,UAAM,GAAG;;;QAErB,OAAO,GAAG,GAAG,CAAC,gBAAgB,EAAE,CAAC;QAC/B,OAAO,GAAQ,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;QACxD,IAAI,OAAO,EAAE;YACT,OAAO,CAAC,IAAI,GAAG;gBACf;oBACI,EAAE,EAAE,MAAM;oBACV,KAAK,EAAE,YAAY;oBACnB,IAAI,EAAE,sGAAsG;oBAC5G,KAAK,EAAE;wBACP;4BACI,EAAE,EAAE,QAAQ;4BACZ,KAAK,EAAE,WAAW;4BAClB,IAAI,EAAE,mGAAmG;yBAC5G;wBACD;4BACI,EAAE,EAAE,QAAQ;4BACZ,KAAK,EAAE,WAAW;yBACrB;qBACA;iBACJ;gBACD;oBACI,EAAE,EAAE,MAAM;oBACV,KAAK,EAAE,OAAO;iBACjB;gBACD;oBACI,EAAE,EAAE,MAAM;oBACV,KAAK,EAAE,MAAM;oBACb,KAAK,EAAE;wBACP;4BACI,EAAE,EAAE,QAAQ;4BACZ,KAAK,EAAE,WAAW;yBACrB;wBACD;4BACI,EAAE,EAAE,QAAQ;4BACZ,KAAK,EAAE,WAAW;yBACrB;qBACA;iBACJ;aACA,CAAC;YAEF,OAAO,CAAC,gBAAgB,CAAC,UAAU,EAAE,UAAC,KAAU;gBAChD,OAAO,CAAC,GAAG,CAAC,qBAAqB,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC;YACjD,CAAC,CAAC,CAAC;YAEH,CAAC;;;gCACD,qBAAM,cAAc,CAAC,WAAW,CAAC,qBAAqB,CAAC,EAAA;;4BAAvD,SAAuD,CAAC;4BACxD,qBAAM,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAA;;4BAA9C,SAA8C,CAAC;;;;iBAC9C,CAAC,EAAE,CAAC;SACR;QAGG,MAAM,GAAG,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,aAAa,CAAC,IAAI,EAAE,EAAE,GAAG,CAAC,UAAU,EAAE,CAAC,CAAC;QAE1E,MAAM,CAAC,SAAS,CAAC,SAAe,MAAM,CAAC,QAAQ,EAAE,IAAI;;;;;gCACpC,qBAAM,QAAQ,CAAC,SAAS,EAAE,EAAA;;4BAAnC,MAAM,GAAG,SAA0B;4BACvC,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;gCACnB,wEAAwE;gCACxE,qEAAqE;gCACrE,GAAG,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;gCAEnD,sBAAO;6BACV;4BAED,GAAG,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;4BAChC,qBAAM,QAAQ,CAAC,OAAO,EAAE,EAAA;;4BAA/B,IAAI,GAAG,SAAwB;4BACnC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;4BAGlB,kEAAkE;4BAClE,OAAO,CAAC,oBAAoB,EAAE,CAAC;;;;;SAClC,CAAC,CAAC;;;KACN,CAAC,CAAC\",\"sourcesContent\":[\"/*\\n * Copyright © 2020. TIBCO Software Inc.\\n * This file is subject to the license terms contained\\n * in the license file that is distributed with this file.\\n */\\n\\n\\n// Import the Spotfire module\\nimport { Spotfire } from \\\"./api\\\";\\n// Import needed types\\n\\n// Starting point for every mod\\nSpotfire.initialize(async mod => {\\n    // Used later to inform Spotfire that the render is complete\\n    let context = mod.getRenderContext();\\n    const sideNav: any = document.getElementById('sideNav');\\n    if (sideNav) {\\n        sideNav.tabs = [\\n        {\\n            id: 'tab1',\\n            label: 'First menu',\\n            icon: 'https://cdn.jsdelivr.net/npm/@tibco-tcstk/tc-web-components@2.1.0/dist/collection/svg/ic-warning.svg',\\n            child: [\\n            {\\n                id: 'tab1.1',\\n                label: 'Child 1.1',\\n                icon: 'https://cdn.jsdelivr.net/npm/@tibco-tcstk/tc-web-components@2.1.0/dist/collection/svg/ic-done.svg'\\n            },\\n            {\\n                id: 'tab1.2',\\n                label: 'Child 1.2'\\n            }\\n            ]\\n        },\\n        {\\n            id: 'tab2',\\n            label: 'Other'\\n        },\\n        {\\n            id: 'tab3',\\n            label: 'More',\\n            child: [\\n            {\\n                id: 'tab3.1',\\n                label: 'Child 3.1'\\n            },\\n            {\\n                id: 'tab1.2',\\n                label: 'Child 3.2'\\n            }\\n            ]\\n        }\\n        ];\\n\\n        sideNav.addEventListener('selected', (event: any) => {\\n        console.log('side tab selected: ', event.detail);\\n        });\\n\\n        (async () => {\\n        await customElements.whenDefined('uxpl-left-nav-multi');\\n        await sideNav.setTab(sideNav.tabs[0].child[0]);\\n        })();\\n    }\\n\\n    // Create a reader object that reacts only data and window size changes\\n    let reader = mod.createReader(mod.visualization.data(), mod.windowSize());\\n\\n    reader.subscribe(async function render(dataView, size) {\\n        let errors = await dataView.getErrors();\\n        if (errors.length > 0) {\\n            // Data view contains errors. Display these and clear the chart to avoid\\n            // getting a flickering effect with an old chart configuration later.\\n            mod.controls.errorOverlay.show(errors, \\\"DataView\\\");\\n\\n            return;\\n        }\\n\\n        mod.controls.errorOverlay.hide(\\\"DataView\\\");\\n        let rows = await dataView.allRows();\\n        console.log(rows);\\n        \\n\\n        // Inform Spotfire that the render is complete (needed for export)\\n        context.signalRenderComplete();\\n    });\\n});\\n\"]}"}
